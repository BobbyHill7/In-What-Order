<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>In What Order? ‚Äì Raw Manta Ray</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Montserrat:wght@500;700&display=swap" rel="stylesheet">

<style>
:root {
  --bg:#0e1a22;
  --panel:#132733;
  --accent:#f2b705;
  --green:#2ecc71;
  --yellow:#f1c40f;
  --red:#e74c3c;
}

* { box-sizing:border-box; }

body {
  margin:0;
  background:radial-gradient(circle at top,#1c3b4a,var(--bg));
  color:#fff;
  font-family:'Montserrat',sans-serif;
  text-align:center;
}

header {
  padding:24px;
  background:linear-gradient(135deg,#1fa2ff,var(--accent));
  color:#000;
}

header h1 {
  font-family:'Orbitron',sans-serif;
  font-size:2.8rem;
  margin:0;
}

header h2 {
  margin-top:6px;
  font-weight:700;
}

.container {
  max-width:900px;
  margin:auto;
  padding:20px;
}

.instructions {
  background:var(--panel);
  padding:16px;
  border-radius:12px;
  margin-bottom:16px;
  text-align:left;
}

.timer {
  font-family:'Orbitron',sans-serif;
  font-size:2rem;
  color:var(--accent);
  margin:10px 0;
}

.board {
  background:var(--panel);
  padding:16px;
  border-radius:16px;
}

.list {
  display:none;
}

.item {
  height:100px;
  display:flex;
  align-items:center;
  gap:16px;
  padding:12px;
  margin:8px 0;
  background:#0f2029;
  border-radius:10px;
  border:3px solid transparent;
  cursor:grab;
}

.item img {
  width:80px;
  height:80px;
  object-fit:contain;
}

.correct { border-color:var(--green); box-shadow:0 0 10px var(--green); }
.wrong { border-color:var(--red); box-shadow:0 0 10px var(--red); }

button {
  font-family:'Orbitron',sans-serif;
  font-size:1.1rem;
  padding:10px 26px;
  border:none;
  border-radius:30px;
  cursor:pointer;
  background:var(--accent);
  margin:10px;
}

.scorecard {
  display:none;
  margin-top:16px;
  background:#000;
  padding:16px;
  border-radius:14px;
  font-family:'Orbitron',sans-serif;
}

.confetti span {
  position:fixed;
  top:-10px;
  width:8px;
  height:8px;
  animation:fall 2.5s linear forwards;
}

@keyframes fall {
  to {
    transform:translateY(110vh) rotate(720deg);
    opacity:0;
  }
}
</style>
</head>

<body>

<header>
  <h1>In What Order?</h1>
  <h2>Raw Manta Ray</h2>
</header>

<div class="container">

<div class="instructions">
<strong>How to Play</strong>
<ul>
<li>Order the updates from <strong>earliest ‚Üí latest</strong></li>
<li>Click <strong>Start Game</strong> to reveal the items and start the timer</li>
<li>The timer continues running until you get a <strong>perfect order</strong></li>
<li>Each incorrect submission applies a <strong>‚Äì5 second penalty once</strong></li>
<li>Your score is based on how much time remains</li>
<li>Dates are revealed only after a perfect order</li>
</ul>
</div>

<div class="timer" id="timer">48</div>

<div class="board">
  <div class="list" id="list"></div>

  <button id="startBtn">START GAME</button>
  <button id="submitBtn" style="display:none;">SUBMIT</button>
</div>

<div class="scorecard" id="scorecard"></div>

</div>

<script>
const correctOrder = [
  "Fossil Island",
  "Brimstone Chest",
  "The Mimic",
  "Larran‚Äôs Chest",
  "Tempoross",
  "Tombs of Amascut",
  "The Leviathan",
  "Killing a Manta Ray"
];

const data = [
  ["Fossil Island","September 2017","https://oldschool.runescape.wiki/images/Fossil_Island_logo.png?f8132"],
  ["Brimstone Chest","February 2019","https://oldschool.runescape.wiki/images/Brimstone_chest.png?23463"],
  ["The Mimic","April 2019","https://oldschool.runescape.wiki/images/thumb/The_Mimic.png/1024px-The_Mimic.png?b45f4"],
  ["Larran‚Äôs Chest","June 2019","https://oldschool.runescape.wiki/images/Larran%27s_big_chest.png?eb3ea"],
  ["Tempoross","March 2021","https://oldschool.runescape.wiki/images/Tempoross.png?12042"],
  ["Tombs of Amascut","August 2022","https://oldschool.runescape.wiki/images/Tombs_of_Amascut.png?f9992"],
  ["The Leviathan","July / August 2023","https://oldschool.runescape.wiki/images/The_Leviathan.png?d588a"],
  ["Killing a Manta Ray","November 2025","https://oldschool.runescape.wiki/images/Manta_ray_%28Sailing%29.png?80b30"]
];

const list = document.getElementById("list");
const timerEl = document.getElementById("timer");
const scorecard = document.getElementById("scorecard");

let time = 48;
let interval;
let gameOver = false;

function shuffle(arr){ return arr.sort(()=>Math.random()-0.5); }

function startGame(){
  list.innerHTML="";
  shuffle([...data]).forEach(d=>{
    const el=document.createElement("div");
    el.className="item";
    el.draggable=true;
    el.dataset.name=d[0];
    el.dataset.date=d[1];
    el.innerHTML=`<img src="${d[2]}"><div>${d[0]}</div>`;
    list.appendChild(el);
  });

  list.style.display="block";
  startBtn.style.display="none";
  submitBtn.style.display="inline-block";

  interval = setInterval(()=>{
    if(gameOver) return;
    time--;
    timerEl.textContent=time;
    if(time<=0){
      endGame(false);
    }
  },1000);

  enableDrag();
}

function submit(){
  if(gameOver) return;

  const items=[...list.children];
  let perfect=true;

  items.forEach((el,i)=>{
    el.classList.remove("correct","wrong");
    if(el.dataset.name===correctOrder[i]){
      el.classList.add("correct");
    } else {
      el.classList.add("wrong");
      perfect=false;
    }
  });

  if(perfect){
    endGame(true);
  } else {
    time=Math.max(0,time-5);
    timerEl.textContent=time;
    if(time===0) endGame(false);
  }
}

function endGame(won){
  gameOver=true;
  clearInterval(interval);
  submitBtn.disabled=true;

  const score = won ? Math.min(100,50+time) : 0;
  scorecard.style.display="block";
  scorecard.innerHTML = won
    ? `<h2>üèÜ Score: ${score}/100</h2>`
    : `<h2>‚è±Ô∏è Time‚Äôs Up!</h2>`;

  if(won){
    confetti();
    [...list.children].forEach(el=>{
      const d=document.createElement("div");
      d.textContent=el.dataset.date;
      el.appendChild(d);
    });
  }
}

function enableDrag(){
  let drag;
  list.addEventListener("dragstart",e=>drag=e.target);
  list.addEventListener("dragover",e=>e.preventDefault());
  list.addEventListener("drop",e=>{
    if(e.target.classList.contains("item")){
      list.insertBefore(drag,e.target.nextSibling);
    }
  });
}

function confetti(){
  for(let i=0;i<80;i++){
    const c=document.createElement("span");
    c.style.left=Math.random()*100+"vw";
    c.style.background=`hsl(${Math.random()*360},100%,50%)`;
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),2500);
  }
}

startBtn.onclick=startGame;
submitBtn.onclick=submit;
</script>

</body>
</html>
